# Memento
- インスタンスの状態を表す役割を導入し，カプセル化の破壊に陥ること無く保存と復元を行なう
- インスタンスの状態を記録として保存しておき，あとでインスタンスをその時点の状態に戻す

## 何故Mementoを使うか
- オブジェクト指向プログラムでアンドゥなどを行なうために，インスタンスの持っている状態を保存しておく必要がある
- しかし，インスタンスを復元するために，インスタンス内部情報に自由なアクセスを許してしますと，そのクラスの内部構造に依存したコードがプログラムのあちこちに散らばり，クラスの修正がしにくくなる
    - これをカプセル化の破壊という
- Mementoパターンを利用すると，次のようなことを行える
    - undo(やり直し)
    - redo(再実行)
    - history(作業履歴の作成)
    - snapshot(現在状態の保存)

## Mementoパターンの登場人物
- Originator(作成者)の役
    - 自分の状態を保存したい時にMemento役を作る
    - 以前のMemento役を渡されると，そのMemento役を釣っ食った時点での状態に戻る処理を行なう
    - Gamerクラスがこの役
- Memento(記念品)の役
    - Originator役の内部情報をまとめる
    - 次の2つのAPIを持つ
        - wide interface
            - オブジェクトの状態をもとに戻すために必要な情報がすべて得られるメソッドの集合
            - Originator役のみが使える
        - narrow interface
            - 外部のCaretaker役に見せる
            - 内部状態が外部に公開されるのを防ぐ
        - Caretaker(世話する人)の役
            - 現在のOriginator役の状態を保存したい時に，それをOriginator役に伝える
            - 将来の必要に備えてMemento役を保存する
            - Mainクラスがこの役
            - narrow interfaceのみ使え，ブラックボックスとしてMemento役を保存

## あなたの考えを広げるためのヒント

## この章で学んだこと
